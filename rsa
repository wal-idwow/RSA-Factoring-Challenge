#!/usr/bin/python3
from sys import argv
import math

def factorization(nombre):
    """
    Performs the factorization of a number and prints the result.

    Args:
        nombre (int): The number to factorize.
    """
    if nombre % 2 == 0:
        i = 2
        print("{}={}*{}".format(nombre, int(nombre/i), i))
    else:
        x = math.sqrt(nombre)
        if x % 1 == 0:
            print("{}={}*{}".format(nombre, int(x), int(nombre/x)))
            return
        x = int(x) + 1
        for i in range(3, x, +2):
            if nombre % i == 0:
                if prime_check(i):
                    print("{}={}*{}".format(nombre, int(nombre/i), i))
                    return

def numbers(source):
    """
    Reads numbers from a file and performs factorization for each number.

    Args:
        source (str): The name of the file containing numbers.
    """
    with open(source, encoding="utf-8") as file:
        for nbr in file.readlines():
            i = int(nbr)
            factorization(i)

def prime_check(nombre):
    """
    Checks if a number is prime.

    Args:
        nombre (int): The number to check.

    Returns:
        bool: True if the number is prime, False otherwise.
    """
    n = 3
    if nombre % 2 == 0:
        return False
    while n * n <= nombre:
        if nombre % n == 0:
            return False
        n += 2
    return True


if __name__ == "__main__":
    """
    Main entry point. Reads the input source from the command nbr
    and performs factorization for each number in the file.
    """
    if len(argv) != 2:
        print("Usage: {} <filename>".format(argv[0]))
        exit(1)

    numbers(argv[1])
